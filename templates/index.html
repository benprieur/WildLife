<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="expires" content="0">
    <meta http-equiv="pragma" content="no-cache">

    <title>Wild life</title>
    <script type="text/javascript"
            src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js">

        var $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};

    </script>

    <style>
        table {
            border-collapse: collapse;
            width: 100%;
        }

        th, td {
            text-align: left;
            padding: 8px;
        }

        tr:nth-child(even) {background-color: #f2f2f2;}

        td{font-family: Arial; font-size: 10pt;}
        th{font-family: Arial; font-size: 10pt;}
        p{font-family: Arial; font-size: 10pt;}
    </style>

</head>
<body>
<form action="search" method= "post" width="90%" id="form">
    <input type="search" placeholder="Mots-clés..." name="search" id="search" required/>
    <button type="submit" onclick="$('#loading').show(); document.getElementById('table').innerText = ''; document.getElementById('commentaire').innerText = '';">Rechercher</button>
</form>
<div id="content">
    <div id="loading" style="display:none;" align="center">
        <img src="https://loading.io/mod/spinner/typing/sample.gif" />
    </div>
    <div id="commentaire"align="left">
        {% if items is defined %}
            {% if items|length == 0 %}
                <p style="color:darkgray;"><small>Aucun résultat trouvé sur Wikidata avec ce critère pour les éléments munis de P2040.</small></p>
            {% else %}
                <p style="color:darkgray;"><small>{{ items|length }} résultats issus de Wikidata.</small></p>
            {% endif %}
        {% endif %}
    </div>

    <table id="table">
        {% for item in items %}
            <tr>
                <td width="10%">
                    {% if item.image is defined %}
                        <img src="{{ item.image.value }}" width="45%" />
                    {% endif %}
                </td>
                <td align="left" width="80%">
                    <h1><a href="{{ item.item.value }}">{{ item.itemLabel.value }}</a></h1>
                    <ul>
                        <li>{% if item.nomscientifique is defined %}
                            Nom scientifique : <i>{{ item.nomscientifique.value }}</i></li>
                        {% endif %}
                        <li>{% if item.rangtaxinomique is defined %}
                            Rang taxinomique : <a href="{{ item.taxonsuperieur.value }}">{{ item.rangtaxinomiqueLabel.value }}</a>
                        {% endif %}</li>
                        <li>{% if item.taxonsuperieur is defined %}
                            Taxon supérieur : <a href="{{ item.taxonsuperieur.value }}">{{ item.taxonsuperieurLabel.value }}</a>
                        {% endif %}</li>
                        <li>{% if item.identifiantSPECIES is defined %}
                            Id SPECIES+ : {{ item.identifiantSPECIES.value }}
                        {% endif %}</li>
                    </ul>
                </td>
            </tr>
        {% endfor %}
    </table>
</div>
</body>
</html>